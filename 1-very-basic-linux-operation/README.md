
# 第一讲 非常基础的命令行操作

这一讲主要讲一些非常基础的 linux 操作。尽管不同的终端有各种各样的差别，但这部分的基础内容基本上对于所有的命令行终端都使用

---

## 目录操作

这一部分引入一些简单命令

- `pwd`：展示当前目录的地址
- `ls`：展示当前目录的内容，即展示当前目录所包含的文件和目录等
- `cd`：切换当前目录
- `mkdir`：新建目录
- `rmdir`：删除目录

```bash
mkdir obj
rmdir obj
```

### 补充内容

相对目录：当前目录`.`和上级目录`..`等
绝对目录：`/mnt/data/records`这类目录

- `man`：查看一个命令的 manual，即查看一个命令的手册

```bash
man ls
```

## 文件操作 （1）

引入一些简单的文件操作

- `cp`：复制文件
- `mv`：移动文件
- `rm`：删除文件
- `touch`：更新文件的时间戳

不同的命令行参数之间用空格隔开。加空格时，可以用多个空格隔开，但不同的参数之间必须有空格

```bash
cp file.txt file2.txt
mv file.txt file2.txt
rm file.txt
touch file.txt
```

学到这里，大家可能会误认为，命令行参数只能是文件名或者目录名。但实际上不是这样

## 关于命令行参数

大量的命令可传入以 `-` 开头或者 `--` 开头的参数，例如下面的例子。我们之后会解释这个例子

```bash
cp a/ b/ -r # 将目录 a 的内容复制一份到目录 b
mv a/ b/ -r
rm a/ -r
```

这里的`-r`表示递归操作，在对目录进行复制、删除或者移动等操作的时候需要加上这个参数

这里再给出一些例子，`--help`常用于查看一个命令的帮助文件，`--version`常用于查看一个命令的版本

```bash
ls --help
cp --help
mv --help
gcc --version
gcc --help
python3 --version
```

这里再讲一些更深入的常用命令用法
`ls`:

- `-a`显示隐藏文件
- `-l`显示详情信息
- `-h`以易读格式展示文件大小
- `-R`递归显示目录内容

可以使用`-la`这样的方式同时传入多个参数，即传入参数`-la`相当于同时传入`-l`和`-a`
`cp`:

- `cp -r dir1 dir2`:递归复制文件

`rm`:

- `-r`:递归删除目录内容
- `-f`:强制删除文件内容

`du`:查看目录大小

- `-h` 以易读格式展示文件大小
- `-d` 设置递归深度。例如可以用`du -d 1`查看当前目录下的每个目录大小，而不包括子目录下的目录大小

```bash
du -h
du -d 1
du -hd1
```

- `ls`:
  - `-a`显示隐藏文件
  - `-l`显示详情信息
  - `-h`以易读格式展示文件大小
  - 可以使用`-la`等方式同时传入多个参数，即传入参数`-la`相当于同时传入`-l`和`-a`
- `cp`:
  - `-r dir1 dir2`:递归复制文件
- `rm`:
  - `-r`:递归删除目录内容
  - `-f`:强制删除文件内容
- `du`:
  - 检查目录大小
  - `-h`
  - `-d` 递归深度

## 文件操作 （2）

常用命令如下

- `cat`：将文件内容输出到屏幕上
- `head`：读取文件的前几行并输出到屏幕上
- `tail`：读取文件的后几行并输出到屏幕上
- `diff`：对比两个文件的不同之处

```bash
cat a.txt
head a.txt
head -n 20 a.txt # 打印 a.txt 的前 20 行
tail a.txt
diff a.txt b.txt

```

## 一些常用命令

- `clear`：清屏，即清除屏幕的内容
- `history`：查看所有输入过的历史命令
- `top`：查看所有的进程，以及系统资源（cpu、内存等）的占用情况。可使用更友好的`htop`代替
- `time`：用来测量一条指令的时间

```bash
time du -hd1
```

---

由于这一讲非常简单，所以有些内容并没有深入进行讲解。感兴趣可以关注我们未来的课程计划

我们未来将要讲的一些内容

- 命令行解析与环境变量
  - 这一讲分为三部分
  - 第一部分讲述终端是如何解析命令行参数的。例如，如果文件夹名字中间带空格（比如`Program Files`），我们想要使用`cd Program Files`切换到该文件夹，但命令行会提示`cd: too many argument`。为什么会出现这种现象？如何在传入参数的时候使得某个参数中就是可以带空格的
  - 第二部分通过引入一些 C 语言或者 Python 的例子，体验一个程序是如何进行命令行参数解析的
  - 第三部分引入环境变量。引入`$PATH`
- 信号处理
  - 这里的信号是一个`linux`上的一个专有名词，和“数字信号处理”等地方出现的“信号”意味不同
  - 这一讲分为多部分
  - 第一部分给出一些信号的初体验，例如，当运行一个程序的时候，可以使用`ctrl+c`（也可以记作`^C`）终止一个程序；或者使用`ctrl+\`终止一个程序。再比如，可以使用`kill`向进程发送信号
  - 第二部分给出一些 C 语言的例子，来演示真实的程序处理信号时是什么样的。同时在这一部分引入子进程的概念
- 文件流处理与文件描述符
  - 引入标准输入（`stdin`）、标准输出（`stdout`）等概念。引入`/dev/null`、`/dev/random`等。引入输入和输出的重定向
  - 引入管道符。引入`tee`、`grep`等命令
  - 引入`open()`函数，使用`write()`函数向文件描述符写入内容，加深对于文件流处理的理解
- `git`的使用
- 脚本的编写：如何自己写脚本文件
